---
import type { MarkdownInstance } from "astro"
import BaseLayout from "../layouts/BaseLayout.astro"

const posts: MarkdownInstance<MarkdownProps>[] = await Astro.glob("./posts/*.md")
---

<BaseLayout>
	<a href="https://marzeq.codes/" class="text-xl font-medium underline hover:text-gray-600 dark:hover:text-gray-400 transition duration-300">Main site</a>
	<h1 class="text-4xl font-bold border-b-2 border-gray-500 mt-8 mb-6 pb-2">marzeq's blog</h1>

	{posts.map((post, i) => (
		<article class={`mb-6 ${i !== posts.length - 1 ? 'border-b-2 border-gray-500 pb-2' : ''}`}>
			<h2 class="text-2xl font-semibold mb-3">{post.frontmatter.title}</h2>
			<p class="mb-1">{post.frontmatter.description}</p>
			<a class="text-blue-500 hover:text-blue-300 hover:underline transition duration-300" href={post.url}>Read more</a>
		</article>
	))}
</BaseLayout>